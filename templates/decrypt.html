{% extends 'base.html' %}
{% block title %}Decrypt{% endblock %}
{% block content %}
    <div class="header">
            <a href="/">Home</a>
             <p>Program Enkripsi dan Dekripsi Kuantum Caesar Cipher (QCC) v2.0</p>
        </div>
        <div class="content">
        <h2 class="center-text">Deskripsi pesan</h2>
            {% if error %}
                <p style="color: red;">{{ error }}</p>
            {% endif %}
            <form method="post" enctype="multipart/form-data">
                 <div class="input-container">
                     <label for="load_file">Muat File Enkripsi:</label>
                     <input type="file" id="load_file" name="load_file" accept=".txt">
                 </div>
              <div class="input-container">
                  <label for="encrypted_text">Masukan teks enkripsi (Jika tidak Memuat File):</label>
                    <textarea id="encrypted_text" name="encrypted_text" rows="10"></textarea>
                </div>
               <div class="input-container">
                  <label for="key_file">Muat File Kunci (opsional):</label>
                  <input type="file" id="key_file" name="key_file" accept=".txt">
                </div>
                 <div class="input-container">
                     <label for="key">Masukan Kunci (Jika tidak Memuat File):</label>
                     <input type="text" id="key" name="key" >
                 </div>
                <div class="input-container">
                  <label for="shift">Masukan Pergeseran:</label>
                    <input type="number" id="shift" name="shift" required>
                </div>
                <button type="submit">Proses</button>
            </form>

             <div class="hasil-container">
             <div class="textarea-box">
             <p>Hasil</p>
                <textarea id="result" name="result"  rows="10" readonly>{{ decrypted_text }}</textarea>
              </div>
            </div>
          <form method="post" action="/download_decrypt_text">
             <div class="input-container">
                <label for="filename">Simpan Hasil sebagai File:</label>
                <input type="text" id="filename" name="filename" placeholder="Enter filename.txt">
                <input type="hidden" name="decrypted_text" value="{{ decrypted_text }}">
             </div>
             <button type="submit">Simpan ke File</button>
        </form>
        </div>
         <div class="footer">
            2200018411 Reyhanssan Islamey
        </div>
{% endblock %}